{% extends 'base.html' %}

{% block title %}{{ category.name }} - Django Blog{% endblock %}

{% block content %}
<h2>Category: {{ category.name }}</h2>

{% if category.description %}
    <p>{{ category.description }}</p>
{% endif %}

<p><strong>Total Posts:</strong> {{ blogs.count }}</p>

<hr>

<h3>Posts in this category:</h3>

{% if blogs %}
    {% for blog in blogs %}
        <article>
            <h4><a href="{% url 'blog_detail' blog.pk %}">{{ blog.title }}</a></h4>
            <p><strong>By:</strong>
                <a href="{% url 'profile_detail' blog.author.pk %}">{{ blog.author.username }}</a>
            </p>
            <p><strong>Published:</strong> {{ blog.created_at|date:"F d, Y" }}</p>
            <p><strong>Views:</strong> {{ blog.views }}</p>
            <p>{{ blog.content|truncatewords:50 }}</p>
            <p><a href="{% url 'blog_detail' blog.pk %}">Read More...</a></p>
        </article>
        <hr>
    {% endfor %}
{% else %}
    <p>No blog posts in this category yet.</p>
{% endif %}

<p><a href="{% url 'category_list' %}">Back to Categories</a></p>
<p><a href="{% url 'home' %}">Back to Home</a></p>
{% endblock %}